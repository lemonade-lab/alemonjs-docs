"use strict";(self.webpackChunkalemonjs_docs=self.webpackChunkalemonjs_docs||[]).push([[7019],{6798:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=s(4848),a=s(8453);const r={title:"V2.0.4",description:"\u66f4\u65b0",authors:"ningmengchongshui",tags:["\u66f4\u65b0"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},o="\u66f4\u65b0\u8bb0\u5f55",c={permalink:"/blog/2025/03/26/releases/v2.0.4",source:"@site/blog/releases/2025/03/26/v2.0.4.md",title:"V2.0.4",description:"\u66f4\u65b0",date:"2025-03-26T00:00:00.000Z",tags:[{inline:!0,label:"\u66f4\u65b0",permalink:"/blog/tags/\u66f4\u65b0"}],readingTime:1.64,hasTruncateMarker:!1,authors:[{namne:"ningmengchongshui",title:"Co-creator of yunzaijs 1",url:"https://github.com/ningmengchongshui",email:"ningmengchongshui@gmail.com",socials:{github:"https://github.com/ningmengchongshui"},imageURL:"https://avatars.githubusercontent.com/u/110824794?v=4",key:"ningmengchongshui",page:null}],frontMatter:{title:"V2.0.4",description:"\u66f4\u65b0",authors:"ningmengchongshui",tags:["\u66f4\u65b0"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"V2.0.16",permalink:"/blog/2025/05/13/releases/v2.0.16"},nextItem:{title:"V2.0.0",permalink:"/blog/2025/03/14/releases/v2.0.0"}},i={authorsImageUrls:[void 0]},l=[];function u(e){const n={code:"code",li:"li",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u3010Fix\u3011\u4e2d\u95f4\u4ef6\u7684regular \u6ca1\u751f\u6548\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { createSelects } from 'alemonjs'\nexport const selects = createSelects(['message.create'])\n// \u4ec5\u9650 # \u548c / \u5f00\u5934\u7684\u6d88\u606f\u624d\u6267\u884c\u8be5\u4e2d\u95f4\u4ef6\nexport const regular = /^(#|\\/)/\nexport default onMiddleware(selects, (event, next) => {\n  next()\n})\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u3010Feat\u3011\u652f\u6301return\u5bf9\u8c61\u4ee5\u63cf\u8ff0\u5176\u4ed6\u884c\u4e3a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { createSelects } from 'alemonjs'\nexport const selects = createSelects(['message.create'])\nexport default onResponse(selects, event => {\n  const res = {\n    // any\n  }\n  return {\n    // \u5141\u8bb8\u5206\u7ec4\uff0c\u7b49\u540c\u4e8e return true\n    allowGrouping: true,\n    // \u5373\u5c06\u8981\u53d1\u9001\u7684\u6570\u636e\n    data: [],\n    ...res\n  }\n})\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u3010Feat\u3011\u652f\u6301\u5185\u90e8\u5b58\u50a8\u5b9e\u4f8b"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Logger, logger as log } from 'alemonjs'\nconst logger = new Logger().value // \u540c logger as log\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Response } from 'alemonjs'\n// \u5185\u90e8\u6240\u6709\u7684res\u7d22\u5f15\nconst res = new Response().value\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { Middleware } from 'alemonjs'\n// \u5185\u90e8\u6240\u6709\u7684mws\u7d22\u5f15\nconst res = new Middleware().value\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { SubscribeList } from 'alemonjs'\n// \u6240\u6709\u7684 create + message.create \u8ba2\u9605\n// \u5373 onSubscribe\nconst subscribeList = new SubscribeList(\n  'create',\n  'message.create'\n).value\n// const subscribeList = new SubscribeList('mount', 'message.create').value\n// const subscribeList = new SubscribeList('unmount', 'message.create').value\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { StateSubscribe } from 'alemonjs'\nconst stateList = new StateSubscribe(\n  'create',\n  'message.create'\n)\nstateList.on(() => {}) // onState\nstateList.un(() => {}) // unState\nconst stateSubscribe = stateList.value\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { State } from 'alemonjs'\n// \u5373 useState\nconst stateList = new State('main:res:name') // new State('main:apps:name')\nstateList.value = true // \u8bbe\u7f6e\u4e3a true\nstateList.value = false // \u8bbe\u7f6e\u4e3a false\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ChildrenApp } from 'alemonjs'\n// \u9ed8\u8ba4 main\u3002\n// \u5f97\u5230\u5185\u90e8res\u3001mw\u3001\u5468\u671f\u7b49\nconst app = new ChildrenApp('main')?.value\n"})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(6540);const a={},r=t.createContext(a);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);