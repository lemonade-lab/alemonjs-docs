"use strict";(self.webpackChunkalemonjs_docs=self.webpackChunkalemonjs_docs||[]).push([[2046],{1769:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>c,toc:()=>i});var s=t(4848),o=t(8453);const r={title:"V2.0.0-rc.81",description:"\u66f4\u65b0",authors:"ningmengchongshui",tags:["\u66f4\u65b0"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},a="\u66f4\u65b0\u8bb0\u5f55",c={permalink:"/blog/2025/01/02/releases/v2.0.0-rc.81",source:"@site/blog/releases/2025/01/02/v2.0.0-rc.81.md",title:"V2.0.0-rc.81",description:"\u66f4\u65b0",date:"2025-01-02T00:00:00.000Z",tags:[{inline:!0,label:"\u66f4\u65b0",permalink:"/blog/tags/\u66f4\u65b0"}],readingTime:.945,hasTruncateMarker:!1,authors:[{namne:"ningmengchongshui",title:"Co-creator of yunzaijs 1",url:"https://github.com/ningmengchongshui",email:"ningmengchongshui@gmail.com",socials:{github:"https://github.com/ningmengchongshui"},imageURL:"https://avatars.githubusercontent.com/u/110824794?v=4",key:"ningmengchongshui",page:null}],frontMatter:{title:"V2.0.0-rc.81",description:"\u66f4\u65b0",authors:"ningmengchongshui",tags:["\u66f4\u65b0"],image:"https://i.imgur.com/mErPwqL.png",hide_table_of_contents:!1},unlisted:!1,prevItem:{title:"V2.0.0-rc.84",permalink:"/blog/2025/01/07/releases/v2.0.0-rc.84"},nextItem:{title:"V2.0.0-rc.78",permalink:"/blog/2024/12/31/releases/2.0.0-rc.78"}},l={authorsImageUrls:[void 0]},i=[];function g(e){const n={blockquote:"blockquote",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"useState"})}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u58f0\u660eres/mw\u7684\u72b6\u6001,\u53ef\u7528\u4e8e\u7ba1\u7406\u662f\u5426\u542f\u7528"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="apps/**/*/res.ts"',children:"export name = 'login'\nexport const regular = /^(#|\\/)?login$/\nexport default OnResponse((event, next) => {\n  // login code ...\n}, 'message.create')\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="apps/**/*/res.ts"',children:"import { Text, useSend, useState } from 'alemonjs'\nexport const regular = /^(#|\\/)?close:/\nexport default OnResponse((event, next) => {\n  //   /close:login\n  const name = event.MessageText.replace(regular, '')\n  const [state, setState] = useState(name)\n  if (state) {\n    next()\n    return\n  }\n  setState(false)\n  const Send = useSend(event)\n  Send(Text('\u5173\u95ed\u6210\u529f'))\n  return\n}, 'message.create')\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u5728\u4efb\u610f\u5730\u65b9\u8ba2\u9605\u72b6\u6001\u7684\u66f4\u6539\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="apps/**/*/res.ts"',children:"import { eventState, unEventState } from 'alemonjs'\n\nconst login = state => {}\n\neventState('login', login)\nunEventState('login', login)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5206\u7ec4"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u590d\u7528\u903b\u8f91,\u5171\u7528\u4e00\u4e2anext"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const Res = OnResponse((event, next) => {\n  console.log('text', event.MessageText)\n  // \u5141\u8bb8\u5728\u540c\u7ec4\u54cd\u5e94\u4e2d\uff0c\u7ee7\u7eed\u540e\u7eed\u7684\u51fd\u6570\n  return true\n}, 'message.create')\n\nexport default OnResponse(\n  [\n    // add\n    Res.current,\n    (event, next) => {\n      console.log('\u5b8c\u6210')\n    }\n  ],\n  'message.create'\n)\n"})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var s=t(6540);const o={},r=s.createContext(o);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);