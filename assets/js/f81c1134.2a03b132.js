"use strict";(self.webpackChunkalemonjs_docs=self.webpackChunkalemonjs_docs||[]).push([[8130],{7735:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/2025/05/30/releases/v2.1.0","metadata":{"permalink":"/blog/2025/05/30/releases/v2.1.0","source":"@site/blog/releases/2025/05/30/v2.1.0.md","title":"V2.1.0","description":"\u66f4\u65b0","date":"2025-05-30T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.675,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.1.0","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"nextItem":{"title":"V2.0.16","permalink":"/blog/2025/05/13/releases/v2.0.16"}},"content":"- \u4f18\u5316 useSubscribe\\n\\n!!! useSubscribe \u548c 2.0 \u4e0d\u517c\u5bb9\\n\\n```ts\\nimport { Text, useMessage } from \'alemonjs\'\\nexport const selects = onSelects([\'message.create\'])\\nexport default onResponse(selects, event => {\\n  const [subscribe] = useSubscribe(event, selects)\\n  subscribe.monut(Res.current, [\'UserId\']) // res \u54cd\u5e94\u4e4b\u524d\\n\\n  // more ...\\n  subscribe.create(Res.current, []) // res \u521b\u5efa\u4e4b\u540e\\n  subscribe.unmonut(Res.current, []) // res \u54cd\u5e94\u4e4b\u540e\\n})\\n```\\n\\n- \u65b0\u589e useMessage\\n\\n```ts\\nimport { Text, useMessage } from \'alemonjs\'\\nexport const selects = onSelects([\'message.create\'])\\nexport default onResponse(selects, event => {\\n  const [message] = useMessage(event)\\n  message.send(format(Text(\'Hello Word!\')))\\n})\\n```\\n\\n- \u65b0\u589e useClient\\n\\n```ts\\nimport {\\n  platform as qqbot,\\n  useClient\\n} from \'@alemonjs/qq-bot\'\\nexport const selects = onSelects([\'message.create\'])\\nexport default onResponse(selects, event => {\\n  if (event.platform === qqbot) {\\n    const [client, value] = useClient(event)\\n    // \u4f7f\u7528\u539f\u751fapi\u548c\u6570\u636e\\n  }\\n})\\n```"},{"id":"/2025/05/13/releases/v2.0.16","metadata":{"permalink":"/blog/2025/05/13/releases/v2.0.16","source":"@site/blog/releases/2025/05/13/v2.0.16.md","title":"V2.0.16","description":"\u66f4\u65b0","date":"2025-05-13T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.46,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.16","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.1.0","permalink":"/blog/2025/05/30/releases/v2.1.0"},"nextItem":{"title":"V2.0.4","permalink":"/blog/2025/03/26/releases/v2.0.4"}},"content":"- \u7b80\u5316Selects\\n\\n\u539f\u6765\u7684\\n\\n```ts\\nimport { createSelects } from \'alemonjs\'\\nexport const selects = createSelects([\'message.create\'])\\n```\\n\\n\u66f4\u6539\u4e3a\\n\\n```ts\\nexport const selects = onSelects([\'message.create\'])\\n```\\n\\n- \u5e9f\u5f03\\n\\n`useObserver` \u5e9f\u5f03\\n\\n\u5e94\u4f7f\u7528 `useSubscribe`\\n\\n```ts\\n// \u521b\u5efa\u89c2\u5bdf\u8005\\nconst [_, observer] = useSubscribe(event, selects)\\n```\\n\\n`createDataFormat` \u5e9f\u5f03\\n\\n\u5e94\u4f7f\u7528`format`\\n\\n- \u65b0\u589e useSends\\n\\n```ts\\nimport { Text, useSends } from \'alemonjs\'\\nexport const selects = onSelects([\'message.create\'])\\nexport default onResponse(selects, event => {\\n  const [send] = useSend(event)\\n  send(format(Text(\'Hello Word!\')))\\n})\\n```"},{"id":"/2025/03/26/releases/v2.0.4","metadata":{"permalink":"/blog/2025/03/26/releases/v2.0.4","source":"@site/blog/releases/2025/03/26/v2.0.4.md","title":"V2.0.4","description":"\u66f4\u65b0","date":"2025-03-26T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":1.64,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.4","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.16","permalink":"/blog/2025/05/13/releases/v2.0.16"},"nextItem":{"title":"V2.0.0","permalink":"/blog/2025/03/14/releases/v2.0.0"}},"content":"- \u3010Fix\u3011\u4e2d\u95f4\u4ef6\u7684regular \u6ca1\u751f\u6548\u3002\\n\\n```ts\\nimport { createSelects } from \'alemonjs\'\\nexport const selects = createSelects([\'message.create\'])\\n// \u4ec5\u9650 # \u548c / \u5f00\u5934\u7684\u6d88\u606f\u624d\u6267\u884c\u8be5\u4e2d\u95f4\u4ef6\\nexport const regular = /^(#|\\\\/)/\\nexport default onMiddleware(selects, (event, next) => {\\n  next()\\n})\\n```\\n\\n- \u3010Feat\u3011\u652f\u6301return\u5bf9\u8c61\u4ee5\u63cf\u8ff0\u5176\u4ed6\u884c\u4e3a\\n\\n```ts\\nimport { createSelects } from \'alemonjs\'\\nexport const selects = createSelects([\'message.create\'])\\nexport default onResponse(selects, event => {\\n  const res = {\\n    // any\\n  }\\n  return {\\n    // \u5141\u8bb8\u5206\u7ec4\uff0c\u7b49\u540c\u4e8e return true\\n    allowGrouping: true,\\n    // \u5373\u5c06\u8981\u53d1\u9001\u7684\u6570\u636e\\n    data: [],\\n    ...res\\n  }\\n})\\n```\\n\\n- \u3010Feat\u3011\u652f\u6301\u5185\u90e8\u5b58\u50a8\u5b9e\u4f8b\\n\\n```ts\\nimport { Logger, logger as log } from \'alemonjs\'\\nconst logger = new Logger().value // \u540c logger as log\\n```\\n\\n```ts\\nimport { Response } from \'alemonjs\'\\n// \u5185\u90e8\u6240\u6709\u7684res\u7d22\u5f15\\nconst res = new Response().value\\n```\\n\\n```ts\\nimport { Middleware } from \'alemonjs\'\\n// \u5185\u90e8\u6240\u6709\u7684mws\u7d22\u5f15\\nconst res = new Middleware().value\\n```\\n\\n```ts\\nimport { SubscribeList } from \'alemonjs\'\\n// \u6240\u6709\u7684 create + message.create \u8ba2\u9605\\n// \u5373 onSubscribe\\nconst subscribeList = new SubscribeList(\\n  \'create\',\\n  \'message.create\'\\n).value\\n// const subscribeList = new SubscribeList(\'mount\', \'message.create\').value\\n// const subscribeList = new SubscribeList(\'unmount\', \'message.create\').value\\n```\\n\\n```ts\\nimport { StateSubscribe } from \'alemonjs\'\\nconst stateList = new StateSubscribe(\\n  \'create\',\\n  \'message.create\'\\n)\\nstateList.on(() => {}) // onState\\nstateList.un(() => {}) // unState\\nconst stateSubscribe = stateList.value\\n```\\n\\n```ts\\nimport { State } from \'alemonjs\'\\n// \u5373 useState\\nconst stateList = new State(\'main:res:name\') // new State(\'main:apps:name\')\\nstateList.value = true // \u8bbe\u7f6e\u4e3a true\\nstateList.value = false // \u8bbe\u7f6e\u4e3a false\\n```\\n\\n```ts\\nimport { ChildrenApp } from \'alemonjs\'\\n// \u9ed8\u8ba4 main\u3002\\n// \u5f97\u5230\u5185\u90e8res\u3001mw\u3001\u5468\u671f\u7b49\\nconst app = new ChildrenApp(\'main\')?.value\\n```"},{"id":"/2025/03/14/releases/v2.0.0","metadata":{"permalink":"/blog/2025/03/14/releases/v2.0.0","source":"@site/blog/releases/2025/03/14/v2.0.0.md","title":"V2.0.0","description":"\u66f4\u65b0","date":"2025-03-14T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.26,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.4","permalink":"/blog/2025/03/26/releases/v2.0.4"},"nextItem":{"title":"V2.0.0-rc.94","permalink":"/blog/2025/02/12/releases/v2.0.0-rc.94"}},"content":"- jsx\\n\\n```tsx\\nimport React from \'react\'\\nimport { createSelects } from \'alemonjs\'\\nimport { Text, useSend } from \'alemonjs/jsx\'\\nconst selects = createSelects([\'message.create\'])\\n// \u5bfc\u51fa\u54cd\u5e94\\nexport default onResponse(selects, event => {\\n  // \u521b\u5efa\u63a5\u53e3\\n  const Send = useSend(event)\\n  // \u53d1\u9001\u6587\u672c\\n  Send(<Text>hello</Text>)\\n})\\n```"},{"id":"/2025/02/12/releases/v2.0.0-rc.94","metadata":{"permalink":"/blog/2025/02/12/releases/v2.0.0-rc.94","source":"@site/blog/releases/2025/02/12/v2.0.0-rc.94.md","title":"V2.0.0-rc.94","description":"\u66f4\u65b0","date":"2025-02-12T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.445,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.94","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0","permalink":"/blog/2025/03/14/releases/v2.0.0"},"nextItem":{"title":"V2.0.0-rc.88","permalink":"/blog/2025/01/09/releases/v2.0.0-rc.88"}},"content":"- \u4e3b\u52a8\u6d88\u606f\\n\\n> \u90e8\u5206\u5e73\u53f0\u53ef\u80fd\u4ec5\u652f\u6301\u6709\u9650\u6216\u4e0d\u652f\u6301\u4e3b\u52a8\u6d88\u606f\u673a\u5236\\n\\n```ts\\nimport { sendToChannel, sendToUser, Text } from \'alemonjs\'\\n// \u5411\u6307\u5b9a\u9891\u9053\u53d1\u9001\u6d88\u606f\\nsendToChannel(\'ChannelID\', [Text(\'hello word\')])\\n// \u5411\u6307\u5b9a\u7528\u6237\u53d1\u9001\u6d88\u606f\\nsendToUser(\'UserID\', [Text(\'hello word\')])\\n```\\n\\n- \u6570\u636e\u683c\u5f0f\\n\\n```ts\\nimport { createDataFormat } from \'alemonjs\'\\n\\nconst data = createDataFormat(Text(\'hello word\'))\\n\\n// \u4f8b1\\nsendToChannel(\'ChannelID\', data)\\n\\n// \u4f8b2\\nSend(...data)\\n```"},{"id":"/2025/01/09/releases/v2.0.0-rc.88","metadata":{"permalink":"/blog/2025/01/09/releases/v2.0.0-rc.88","source":"@site/blog/releases/2025/01/09/v2.0.0-rc.88.md","title":"V2.0.0-rc.88","description":"\u66f4\u65b0","date":"2025-01-09T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.265,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.88","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.94","permalink":"/blog/2025/02/12/releases/v2.0.0-rc.94"},"nextItem":{"title":"V2.0.0-rc.84","permalink":"/blog/2025/01/07/releases/v2.0.0-rc.84"}},"content":"- \u56fe\u7247\u6570\u636e\u6269\u5c55\\n\\n```ts\\nimport { ImageURL, useSend } from \'alemonjs\'\\nconst Send = useSend({})\\n// \u7f51\u7edc\u56fe\u7247\u5730\u5740\\nSend(ImageURL(\'https://xxx.yyy.com/image.png\'))\\n```\\n\\n```ts\\nimport { ImageFile, useSend } from \'alemonjs\'\\nimport img_url from \'@src/asstes/test.png\'\\nconst Send = useSend({})\\n// \u672c\u5730\u56fe\u7247\u5730\u5740\\nSend(ImageFile(img_url))\\n```"},{"id":"/2025/01/07/releases/v2.0.0-rc.84","metadata":{"permalink":"/blog/2025/01/07/releases/v2.0.0-rc.84","source":"@site/blog/releases/2025/01/07/v2.0.0-rc.84.md","title":"V2.0.0-rc.84","description":"\u66f4\u65b0","date":"2025-01-07T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.545,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.84","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.88","permalink":"/blog/2025/01/09/releases/v2.0.0-rc.88"},"nextItem":{"title":"V2.0.0-rc.81","permalink":"/blog/2025/01/02/releases/v2.0.0-rc.81"}},"content":"- \u8ba2\u9605\u4e8b\u4ef6\u6570\u636e\u7ed3\u6784\u66f4\u6539\u4e3a\u94fe\u8868\\n\\n> \u907f\u514d\u968f\u7740\u4e8b\u4ef6\u7684\u589e\u52a0\uff0c\u800c\u6570\u636e\u957f\u5ea6\u589e\u52a0\\n\\n```ts\\nclass Node<T> {\\n  data: T // \u8282\u70b9\u6570\u636e\\n  next: Node<T> | null // \u6307\u5411\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u6307\u9488\\n  constructor(data: T) {\\n    this.data = data\\n    this.next = null\\n  }\\n}\\n\\nexport class SinglyLinkedList<T> {\\n  private head: Node<T> | null // \u94fe\u8868\u7684\u5934\u8282\u70b9\\n  private size: number // \u94fe\u8868\u7684\u5927\u5c0f\\n  private current: Node<T> | null // \u5f53\u524d\u8282\u70b9\u6307\u9488\\n  constructor(initialValues?: T[]) {}\\n}\\n```"},{"id":"/2025/01/02/releases/v2.0.0-rc.81","metadata":{"permalink":"/blog/2025/01/02/releases/v2.0.0-rc.81","source":"@site/blog/releases/2025/01/02/v2.0.0-rc.81.md","title":"V2.0.0-rc.81","description":"\u66f4\u65b0","date":"2025-01-02T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.945,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.81","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.84","permalink":"/blog/2025/01/07/releases/v2.0.0-rc.84"},"nextItem":{"title":"V2.0.0-rc.78","permalink":"/blog/2024/12/31/releases/2.0.0-rc.78"}},"content":"- `useState`\\n\\n> \u58f0\u660eres/mw\u7684\u72b6\u6001,\u53ef\u7528\u4e8e\u7ba1\u7406\u662f\u5426\u542f\u7528\\n\\n```ts title=\\"apps/**/*/res.ts\\"\\nexport name = \'login\'\\nexport const regular = /^(#|\\\\/)?login$/\\nexport default OnResponse((event, next) => {\\n  // login code ...\\n}, \'message.create\')\\n```\\n\\n```ts title=\\"apps/**/*/res.ts\\"\\nimport { Text, useSend, useState } from \'alemonjs\'\\nexport const regular = /^(#|\\\\/)?close:/\\nexport default OnResponse((event, next) => {\\n  //   /close:login\\n  const name = event.MessageText.replace(regular, \'\')\\n  const [state, setState] = useState(name)\\n  if (state) {\\n    next()\\n    return\\n  }\\n  setState(false)\\n  const Send = useSend(event)\\n  Send(Text(\'\u5173\u95ed\u6210\u529f\'))\\n  return\\n}, \'message.create\')\\n```\\n\\n> \u53ef\u4ee5\u5728\u4efb\u610f\u5730\u65b9\u8ba2\u9605\u72b6\u6001\u7684\u66f4\u6539\u3002\\n\\n```ts title=\\"apps/**/*/res.ts\\"\\nimport { eventState, unEventState } from \'alemonjs\'\\n\\nconst login = state => {}\\n\\neventState(\'login\', login)\\nunEventState(\'login\', login)\\n```\\n\\n- \u5206\u7ec4\\n\\n> \u590d\u7528\u903b\u8f91,\u5171\u7528\u4e00\u4e2anext\\n\\n```ts\\nconst Res = OnResponse((event, next) => {\\n  console.log(\'text\', event.MessageText)\\n  // \u5141\u8bb8\u5728\u540c\u7ec4\u54cd\u5e94\u4e2d\uff0c\u7ee7\u7eed\u540e\u7eed\u7684\u51fd\u6570\\n  return true\\n}, \'message.create\')\\n\\nexport default OnResponse(\\n  [\\n    // add\\n    Res.current,\\n    (event, next) => {\\n      console.log(\'\u5b8c\u6210\')\\n    }\\n  ],\\n  \'message.create\'\\n)\\n```"},{"id":"/2024/12/31/releases/2.0.0-rc.78","metadata":{"permalink":"/blog/2024/12/31/releases/2.0.0-rc.78","source":"@site/blog/releases/2024/12/31/2.0.0-rc.78.md","title":"V2.0.0-rc.78","description":"\u66f4\u65b0","date":"2024-12-31T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.16,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.78","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.81","permalink":"/blog/2025/01/02/releases/v2.0.0-rc.81"},"nextItem":{"title":"V2.0.0-rc.76","permalink":"/blog/2024/12/28/releases/2.0.0-rc.76"}},"content":"- \u65b0\u589e`regular`\\n\\n```ts\\n// \u4e0d\u5339\u914d\u8be5\u6b63\u5219\uff0c\u81ea\u52a8\u8fdb\u884cnext\\nexport const regular = /^(#|\\\\/)?hello$/\\nexport default OnResponse((event, next) => {\\n  //\\n}, \'message.create\')\\n```"},{"id":"/2024/12/28/releases/2.0.0-rc.76","metadata":{"permalink":"/blog/2024/12/28/releases/2.0.0-rc.76","source":"@site/blog/releases/2024/12/28/2.0.0-rc.76.md","title":"V2.0.0-rc.76","description":"\u66f4\u65b0","date":"2024-12-28T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.545,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.76","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.78","permalink":"/blog/2024/12/31/releases/2.0.0-rc.78"},"nextItem":{"title":"V2.0.0-rc.74","permalink":"/blog/2024/12/24/releases/2.0.0-rc.74"}},"content":"- \u65b0\u589e`useSubscribe`\\n\\n```ts\\n// [\u4e8b\u4ef6\u521b\u5efa\u4e4b\u540e\uff0c\u4e8b\u4ef6\u88ab\u4e2d\u95f4\u4ef6\u5904\u7406\u4e4b\u540e\uff0c\u4e8b\u4ef6\u88ab\u5904\u7406\u5b8c\u6210\u4e4b\u540e,]\\nconst [create, monut, unmonut] = useSubscribe(event, <select event type>)\\ncreate(Res.current, [])\\n// \u7b49\u540c\u4e8e Observer \uff0c\u5b83\u6b63\u662f SubscribeMount \u7684\u7b80\u5199\\nmonut(Res.current, [])\\nunmonut(Res.current, [])\\n```\\n\\n- \u65b0\u589e`next(bool)`\\n\\n```ts\\nconst current = async (event, next) => {\\n  // \u5f53\u524d\u5468\u671f\u4e2d\u8fdb\u884c\\n  next()\\n  // \u4e0b\u4e00\u4e2a\u5468\u671f\u4e2d\u8fdb\u884c\\n  next(true)\\n  // \u4e0b\u4e0b\u4e2a\u5468\u671f\u4e2d\u8fdb\u884c\\n  next(true, true)\\n  // \u4ee5\u6b64\u7c7b\u63a8\\n}\\n```"},{"id":"/2024/12/24/releases/2.0.0-rc.74","metadata":{"permalink":"/blog/2024/12/24/releases/2.0.0-rc.74","source":"@site/blog/releases/2024/12/24/2.0.0-rc.74.md","title":"V2.0.0-rc.74","description":"\u66f4\u65b0","date":"2024-12-24T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.96,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.74","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.76","permalink":"/blog/2024/12/28/releases/2.0.0-rc.76"},"nextItem":{"title":"V2.0.0-rc.54","permalink":"/blog/2024/11/18/releases/2.0.0-rc.54"}},"content":"- \u4f18\u5316`OnMiddleware`\u5199\u6cd5\\n\\n```ts title=\\"src/middleware/**/*/mw.ts\\"\\n// OnMiddleware((\u4e8b\u4ef6\u4f53,\u63a7\u5236\u4f53)=>\u6d88\u606f\u4f53,\u6d88\u606f\u7c7b\u578b)\\nexport default OnMiddleware((event, next) => {\\n  // \u65b0\u589e\u5b57\u6bb5\\n  event[\'user_id\'] = event.UserId\\n  // \u5e38\u7528\u4e8e\u517c\u5bb9\u5176\u4ed6\u6846\u67b6\u6216\u589e\u5f3aevent\u529f\u80fd\\n  next()\\n}, \'message.create\')\\n```\\n\\n- \u65b0\u589e `useMention`\\n\\n```ts title=\\"apps/**/*/res.ts\\"\\nimport { useMention } from \'alemonjs\'\\nexport default OnResponse(async (event, next) => {\\n  if (!/^(#|\\\\/)?test$/.test(event.MessageText)) {\\n    next()\\n    return\\n  }\\n\\n  const Mentions = await useMention(event)\\n  if (!Mentions || Mentions.length === 0) {\\n    return // @ \u63d0\u53ca\u4e3a\u7a7a\\n  }\\n\\n  // \u67e5\u627e\u7528\u6237\u7c7b\u578b\u7684 @ \u63d0\u53ca\uff0c\u4e14\u4e0d\u662f bot\\n  const User = Mentions.find(item => !item.IsBot)\\n  if (!User) {\\n    return // \u672a\u627e\u5230\u7528\u6237Id\\n  }\\n\\n  console.log(\'User:\', User)\\n\\n  // \u5904\u7406\u88abAT\u7684\u7528\u6237...\\n}, \'message.create\')\\n```\\n\\n- \u7528\u6237\u5934\u50cf\u83b7\u53d6\u65b9\u5f0f\u66f4\u6539\u4e3a\u5f02\u6b65\\n\\n```ts\\nconst url = await e.UserAvatar.toURL()\\n```\\n\\n- \u65b0\u589e`Text style`\u3001`Mention options`\\n- `getConfig` \u652f\u6301\u83b7\u53d6 `argv`\\n- `onstart` \u66f4\u6539\u4e3a `start`\\n- \u5220\u9664 `useParse`\u3001\\n- \u5220\u9664 `MessageBody`"},{"id":"/2024/11/18/releases/2.0.0-rc.54","metadata":{"permalink":"/blog/2024/11/18/releases/2.0.0-rc.54","source":"@site/blog/releases/2024/11/18/2.0.0-rc.54.md","title":"V2.0.0-rc.54","description":"\u66f4\u65b0","date":"2024-11-18T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.095,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.54","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.74","permalink":"/blog/2024/12/24/releases/2.0.0-rc.74"},"nextItem":{"title":"V2.0.0-rc.44","permalink":"/blog/2024/11/09/releases/2.0.0-rc.44"}},"content":"- \u652f\u6301\u591a\u4e2a\u4e8b\u4ef6\u9009\u62e9\\n- \u652f\u6301\u975e\u6d88\u606f\u4f53\u4e8b\u4ef6\u54cd\u5e94"},{"id":"/2024/11/09/releases/2.0.0-rc.44","metadata":{"permalink":"/blog/2024/11/09/releases/2.0.0-rc.44","source":"@site/blog/releases/2024/11/09/2.0.0-rc.44.md","title":"V2.0.0-rc.44","description":"\u66f4\u65b0","date":"2024-11-09T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.06,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.44","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.54","permalink":"/blog/2024/11/18/releases/2.0.0-rc.54"},"nextItem":{"title":"V2.0.0-rc.33","permalink":"/blog/2024/10/09/releases/2.0.0-rc.33"}},"content":"- \u589e\u52a0\u4e2d\u95f4\u4ef6\\n- \u4fee\u590d\u6a21\u5757\u6269\u5c55"},{"id":"/2024/10/09/releases/2.0.0-rc.33","metadata":{"permalink":"/blog/2024/10/09/releases/2.0.0-rc.33","source":"@site/blog/releases/2024/10/09/2.0.0-rc.33.md","title":"V2.0.0-rc.33","description":"\u66f4\u65b0","date":"2024-10-09T00:00:00.000Z","tags":[{"inline":true,"label":"\u66f4\u65b0","permalink":"/blog/tags/\u66f4\u65b0"}],"readingTime":0.655,"hasTruncateMarker":false,"authors":[{"namne":"ningmengchongshui","title":"Co-creator of yunzaijs 1","url":"https://github.com/ningmengchongshui","email":"ningmengchongshui@gmail.com","socials":{"github":"https://github.com/ningmengchongshui"},"imageURL":"https://avatars.githubusercontent.com/u/110824794?v=4","key":"ningmengchongshui","page":null}],"frontMatter":{"title":"V2.0.0-rc.33","description":"\u66f4\u65b0","authors":"ningmengchongshui","tags":["\u66f4\u65b0"],"image":"https://i.imgur.com/mErPwqL.png","hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"V2.0.0-rc.44","permalink":"/blog/2024/11/09/releases/2.0.0-rc.44"}},"content":"- \u589e\u52a0\u914d\u7f6e\u7ba1\u7406\u5668\\n- \u589e\u52a0\u88ab\u52a8\u94fe\u63a5redis\\n- \u652f\u6301css\u9884\u5904\u7406\\n- \u652f\u6301\u975ejs\u6a21\u5757\u5bfc\u5165\\n- \u65b0\u589e\u5f00\u53d1/\u6253\u5305/\u8fd0\u884c\u914d\u7f6e\\n- \u5168\u65b0\u7248\u672c\\n- \u652f\u6301\u6307\u5b9a\u53c2\u6570\u542f\u52a8\\n- \u652f\u6301\u83b7\u53d6\u6587\u672c\u6d88\u606f\\n- \u652f\u6301\u83b7\u53d6 AT \u6d88\u606f\\n- \u652f\u6301\u53d1\u9001\u6587\u672c\u6d88\u606f\\n- \u652f\u6301\u89c2\u5bdf\u8005 hook\\n- \u652f\u6301\u56fe\u7247\u6d88\u606f\\n- \u652f\u6301 public \u6d88\u606f\u521b\u5efa\u76d1\u542c\\n- \u57fa\u4e8e\u6587\u4ef6\u7cfb\u7edf\u7684\u5339\u914d\u673a\u5236\\n- \u73af\u5883\u7edf\u4e00\u4e3a tsx\\n- \u63d0\u4f9b\u81ea\u5b9a\u4e49\u5e73\u53f0\u51fd\u6570\\n- \u652f\u6301\u70ed\u66f4\u65b0\u914d\u7f6e"}]}}')}}]);